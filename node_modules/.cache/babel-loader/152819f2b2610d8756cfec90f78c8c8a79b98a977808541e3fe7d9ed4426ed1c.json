{"ast":null,"code":"import React,{useEffect,useState,createElement as _createElement}from\"react\";import\"./InstantConsultation.css\";import{useNavigate,useSearchParams}from\"react-router-dom\";import FindDoctorSearchIC from\"./FindDoctorSearchIC/FindDoctorSearchIC\";import DoctorCardIC from\"./DoctorCardIC/DoctorCardIC\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const InstantConsultation=()=>{const[searchParams]=useSearchParams();const[doctors,setDoctors]=useState([]);const[filteredDoctors,setFilteredDoctors]=useState([]);const[isSearched,setIsSearched]=useState(false);const navigate=useNavigate();useEffect(()=>{const authtoken=sessionStorage.getItem(\"auth-token\");if(!authtoken){navigate(\"/login\");}fetch(\"https://api.npoint.io/9a5543d36f1460da2f63\").then(res=>res.json()).then(data=>{setDoctors(data);const speciality=searchParams.get(\"speciality\");if(speciality){const filtered=data.filter(doctor=>doctor.speciality.toLowerCase()===speciality.toLowerCase());setFilteredDoctors(filtered);setIsSearched(true);}}).catch(err=>console.log(err));},[searchParams,navigate]);const handleSearch=searchText=>{if(!searchText){setFilteredDoctors([]);setIsSearched(false);return;}const filtered=doctors.filter(doctor=>doctor.speciality.toLowerCase().includes(searchText.toLowerCase()));setFilteredDoctors(filtered);setIsSearched(true);};return/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"searchpage-container\",children:[/*#__PURE__*/_jsx(FindDoctorSearchIC,{onSearch:handleSearch}),/*#__PURE__*/_jsx(\"div\",{className:\"search-results-container\",children:isSearched&&/*#__PURE__*/_jsxs(\"center\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[filteredDoctors.length,\" doctors available\"]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Book appointments with minimum wait-time & verified doctor details\"}),filteredDoctors.length>0?filteredDoctors.map(doctor=>/*#__PURE__*/_createElement(DoctorCardIC,{...doctor,key:doctor.name})):/*#__PURE__*/_jsx(\"p\",{children:\"No doctors found.\"})]})})]})});};export default InstantConsultation;","map":{"version":3,"names":["React","useEffect","useState","createElement","_createElement","useNavigate","useSearchParams","FindDoctorSearchIC","DoctorCardIC","jsx","_jsx","jsxs","_jsxs","InstantConsultation","searchParams","doctors","setDoctors","filteredDoctors","setFilteredDoctors","isSearched","setIsSearched","navigate","authtoken","sessionStorage","getItem","fetch","then","res","json","data","speciality","get","filtered","filter","doctor","toLowerCase","catch","err","console","log","handleSearch","searchText","includes","children","className","onSearch","length","map","key","name"],"sources":["E:/STUDY/Code/test_app/src/Components/InstantConsultationBooking/InstantConsultation.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./InstantConsultation.css\";\r\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\r\nimport FindDoctorSearchIC from \"./FindDoctorSearchIC/FindDoctorSearchIC\";\r\nimport DoctorCardIC from \"./DoctorCardIC/DoctorCardIC\";\r\n\r\nconst InstantConsultation = () => {\r\n  const [searchParams] = useSearchParams();\r\n  const [doctors, setDoctors] = useState([]);\r\n  const [filteredDoctors, setFilteredDoctors] = useState([]);\r\n  const [isSearched, setIsSearched] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const authtoken = sessionStorage.getItem(\"auth-token\");\r\n    if (!authtoken) {\r\n      navigate(\"/login\");\r\n    }\r\n\r\n    fetch(\"https://api.npoint.io/9a5543d36f1460da2f63\")\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setDoctors(data);\r\n        const speciality = searchParams.get(\"speciality\");\r\n        if (speciality) {\r\n          const filtered = data.filter(\r\n            (doctor) =>\r\n              doctor.speciality.toLowerCase() === speciality.toLowerCase()\r\n          );\r\n          setFilteredDoctors(filtered);\r\n          setIsSearched(true);\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, [searchParams, navigate]);\r\n\r\n  const handleSearch = (searchText) => {\r\n    if (!searchText) {\r\n      setFilteredDoctors([]);\r\n      setIsSearched(false);\r\n      return;\r\n    }\r\n\r\n    const filtered = doctors.filter((doctor) =>\r\n      doctor.speciality.toLowerCase().includes(searchText.toLowerCase())\r\n    );\r\n    setFilteredDoctors(filtered);\r\n    setIsSearched(true);\r\n  };\r\n\r\n  return (\r\n    <center>\r\n      <div className=\"searchpage-container\">\r\n        <FindDoctorSearchIC onSearch={handleSearch} />\r\n        <div className=\"search-results-container\">\r\n          {isSearched && (\r\n            <center>\r\n              <h2>{filteredDoctors.length} doctors available</h2>\r\n              <h3>\r\n                Book appointments with minimum wait-time & verified doctor\r\n                details\r\n              </h3>\r\n              {filteredDoctors.length > 0 ? (\r\n                filteredDoctors.map((doctor) => (\r\n                  <DoctorCardIC {...doctor} key={doctor.name} />\r\n                ))\r\n              ) : (\r\n                <p>No doctors found.</p>\r\n              )}\r\n            </center>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </center>\r\n  );\r\n};\r\n\r\nexport default InstantConsultation;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}